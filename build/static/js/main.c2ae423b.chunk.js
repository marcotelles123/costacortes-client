(this["webpackJsonpcostacortes-client"]=this["webpackJsonpcostacortes-client"]||[]).push([[0],{104:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),o=(a(81),a(82),a(18)),i=a(68),s=a(164),u=a(174),m=a(177),d=a(173),p=a(172),f=a(176),g=a(24),b=a.n(g),h=a(34),E=a(165),v=a(175),y=a(160),O=a(62),j=a.n(O).a.create({baseURL:"https://costacortes.herokuapp.com/"}),x=a(25);a(100);var w=function(e){var t=e.fileUpload[1],a=function(e){return new Promise((function(t){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.readAsDataURL(e.files[0])}))};return r.a.createElement(y.a,{variant:"contained",style:{width:"100%",marginLeft:10},component:"label"},"Upload File",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){a(e.target).then((function(e){t({file:e}),setTimeout(3e3)}))}}))},S=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,display:"flex"},textField:{padding:e.spacing(2),width:"200px"}}}));function k(){var e=Object(n.useState)([{}]),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),f=p[0],g=p[1],O=Object(n.useState)(""),k=Object(o.a)(O,2),C=k[0],R=k[1],W=S();function N(e){Object(x.b)(e,{className:"Error-Toast"})}function B(){return(B=Object(h.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:c,image:e[0].file,price:u,heigth:f,width:C},t.next=3,j.post("/product/",a);case 3:return n=t.sent,t.next=6,n;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{className:W.root},r.a.createElement(E.a,{container:!0,direction:"row",spacing:3},r.a.createElement(E.a,{item:!0,sm:9,xs:12},r.a.createElement(v.a,{style:{width:"100%"},id:"name",label:"Nome",size:"small",variant:"outlined",value:c,onChange:function(e){l(e.target.value)}})),r.a.createElement(E.a,{item:!0,sm:2,xs:12},r.a.createElement(w,{fileUpload:e})),r.a.createElement(E.a,{item:!0,sm:3,xs:12},r.a.createElement(v.a,{style:{width:"100%"},id:"price",label:"Preco",size:"small",variant:"outlined",type:"number",value:u,onChange:function(e){m(e.target.value)}})),r.a.createElement(E.a,{item:!0,sm:9,xs:1}),r.a.createElement(E.a,{item:!0,sm:3,xs:12},r.a.createElement(v.a,{style:{width:"100%"},id:"heigthProduct",label:"Altura(cm)",size:"small",variant:"outlined",type:"number",value:f,onChange:function(e){g(e.target.value)}})),r.a.createElement(E.a,{item:!0,sm:3,xs:12},r.a.createElement(v.a,{style:{width:"100%"},id:"widthProduct",label:"Largura",size:"small",variant:"outlined",type:"number",value:C,onChange:function(e){R(e.target.value)}})),r.a.createElement(E.a,{item:!0,sm:6,xs:1}),r.a.createElement(E.a,{item:!0,sm:3,xs:12},r.a.createElement(y.a,{variant:"contained",style:{width:"100%",marginLeft:10},component:"label"},"Salvar",r.a.createElement("input",{style:{display:"none"},onClick:function(e){(function(){return B.apply(this,arguments)})().then((function(e){var t;200===e.status?(t="Salvo com sucesso!!!",Object(x.b)(t),l(""),m(""),g(""),R("")):(N("ERRO!"),console.log(e))})).catch((function(e){N("ERRO!"),console.log(e)}))}})),r.a.createElement(x.a,null))))}a(104);var C=a(63),R=a(67),W=a(167),N=a(171),B=a(170),L=a(166),P=a(168),A=a(169),I=a(118),U=a(64),z=a(65);a(116);var D=function(e){e.openImageState[0];var t=e.openImageState[1];return r.a.createElement(z.a,Object(U.a)({mainSrc:e.imageBytes,nextSrc:e.imageBytes,prevSrc:e.imageBytes,onCloseRequest:console.log("fechando")},"onCloseRequest",(function(){return t(!1)})))},F=Object(s.a)({table:{minWidth:650}});var T=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(Boolean),i=Object(n.useState)(),s=Object(o.a)(i,2),u=s[0],m=s[1],d=l[0],p=l[1];function f(){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/product");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){Object(x.b)(e)}function v(e){Object(x.b)(e,{className:"Error-Toast"})}function y(){return(y=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/product/".concat(t._id)).then((function(e){200===e.status?(E("Deletado com sucesso!!!"),f()):(v("ERRO!"),console.log(e))})).catch((function(e){v("ERRO!"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){f()}),[]);var O=F(),w=r.a.createElement(L.a,{component:I.a},r.a.createElement(W.a,{className:O.table,"aria-label":"simple table"},r.a.createElement(P.a,null,r.a.createElement(A.a,null,r.a.createElement(B.a,{style:{fontWeight:"bold"}},"Nome"),r.a.createElement(B.a,{style:{fontWeight:"bold"},align:"right"},"Preco"),r.a.createElement(B.a,{style:{fontWeight:"bold"},align:"right"},"Largura"),r.a.createElement(B.a,{style:{fontWeight:"bold"},align:"right"},"Altura"),r.a.createElement(B.a,{style:{fontWeight:"bold"},align:"center"},"Imagem"),r.a.createElement(B.a,{style:{fontWeight:"bold"},align:"center"},"Apagar"))),r.a.createElement(N.a,null,a.map((function(e){return r.a.createElement(A.a,{key:e._id},r.a.createElement(B.a,{component:"th",scope:"row"},e.name),r.a.createElement(B.a,{align:"right"},"R$ ",e.price),r.a.createElement(B.a,{align:"right"},e.width),r.a.createElement(B.a,{align:"right"},e.heigth),r.a.createElement(B.a,{style:{padding:"5px"},align:"center",onClick:function(){return t=e.image,p(!0),void m(t);var t}},r.a.createElement("img",{id:"ItemPreview",style:{maxHeight:"35px"},src:e.image})),d&&r.a.createElement(D,{imageBytes:u,openImageState:l}),r.a.createElement(B.a,{className:"deleteColumn",align:"center",onClick:function(){return function(e){return y.apply(this,arguments)}(e)}},r.a.createElement(C.a,{icon:R.a})))})))));return r.a.createElement("div",{id:"formList"},w,r.a.createElement(x.a,null))};function q(e){var t=e.children,a=e.value,n=e.index,c=Object(i.a)(e,["children","value","index"]);return r.a.createElement(p.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},c),a===n&&r.a.createElement(f.a,{p:3},t))}function G(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function J(e){return r.a.createElement(d.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))}var $=Object(s.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function _(){var e=$(),t=r.a.useState(0),a=Object(o.a)(t,2),n=a[0],c=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static"},r.a.createElement(m.a,{variant:"fullWidth",value:n,onChange:function(e,t){c(t)},"aria-label":"nav tabs example"},r.a.createElement(J,Object.assign({label:"Produtos",href:"/drafts"},G(0))),r.a.createElement(J,Object.assign({label:"Cadastrar produtos",href:"/trash"},G(4))))),r.a.createElement(q,{value:n,index:0},r.a.createElement(T,null)),r.a.createElement(q,{value:n,index:1},r.a.createElement(k,null)))}var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(117)},81:function(e,t,a){},82:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.c2ae423b.chunk.js.map